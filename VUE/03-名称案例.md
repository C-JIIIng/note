# 名称案例

## 1.使用keyup事件来监听输入框的变化

```html
<div id="app">

    <input type="text" v-model="firstName" @keyup="getFullName">-
    <input type="text" v-model="lastName" @keyup="getFullName">=
    <input type="text" v-model="fullName" >

</div>
```



```js
<script>
    var vm = new Vue({
        el:'#app',
        data:{
            firstName:'',
            lastName:'',
            fullName:''
        },
        methods:{
            getFullName(){
                this.fullName = this.firstName + '-' + this.lastName
            }
        }
    })
</script>
```



## 2.使用watch来监听输入框的变化

```html
<div id="app">
    <input type="text" v-model="firstName">-
    <input type="text" v-model="lastName" >=
    <input type="text" v-model="fullName" >
</div>
```



```js
<script>
    var vm = new Vue({
        el:'#app',
        data:{
            firstName:'',
            lastName:'',
            fullName:''
        },
        methods:{},
        watch:{// 使用这个属性 可以监听 data 中指定数据的变化 然后触发这个watch 中对应的对应的函数
            'firstName':function(newVal, oldVal){
                // console.log('监视到firstName中的变化');
                // this.fullName = this.firstName + '-' + this.lastName
                // console.log(newVal + '---' + oldVal);
                this.fullName = newVal + '-' + this.lastName
            },
            'lastName': function (newVal) {
                this.fullName = this.firstName + '-' + newVal
            }

        }
    })
</script>
```

### watch属性可以用来监听非DOM元素的改变（比如：路由）

```html
<div id="app">
    <router-link to="/login">login</router-link>
    <router-link to="/register">register</router-link>
    <router-view></router-view>
</div>
```



```js
<script>
    var login = {
        template: '<h1>login</h1>'
    }
    var register = {
        template: '<h1>register</h1>'
    }

    var router = new VueRouter({
        routes:[
            { path: '/', redirect: '/login' },
            { path: '/login', component: login },
            { path: '/register', component: register },
        ]
    })
    var vm = new Vue({
        el:'#app',
        data:{},
        methods:{},
        router,
        watch:{
            // this.$route.path
            // 可以使用 watch 来监听非 DOM 元素的改变
            '$route.path':function (newVal,oldVal) {
                // console.log(newVal + '---' + oldVal);
                if(newVal === '/login'){
                    console.log('欢迎进入登录页面');
                }else if (newVal === '/register'){
                    console.log('欢迎来到注册页面');
                }
            }
        }
    })
</script>
```



## 3.使用计算属性来实现

```html
<div id="app">
    <input type="text" v-model="firstName" >-
    <input type="text" v-model="lastName" >=
    <input type="text" v-model="fullName" >
</div>
```

```js
<script>
    var vm = new Vue({
        el:'#app',
        data:{
            firstName:'',
            lastName:''
        },
        methods:{},
        computed:{
// 在 computed 中 可以定义一些属性 这些属性 叫做 【计算属性】， 计算属性的本质 就是 一个方法只不过 在我们使用 这些计算属性的时候 是把 他们的名称 直接当做 属性来使用 而不会 把计算属性当做方法来使用
            'fullName': function () {
                return this.firstName + '-' + this.lastName
            }
        }
    })
</script>
```

### 计算属性的三个特点

1. 计算属性，在引用的时候，一定不要加（）去调用，直接当做普通属性来使用
2. 只要计算属性这个function内部所用到的任何data的数据发生了变化，就会重新计算这个计算属性的值
3. 计算属性的求值结果 会被缓存起来 方便下一次直接使用 如果 计算属性方法中 任何数据都没有发生变化 则不会重新对计算属性求值



## 4.`watch`、 `computed` 和`methods`之间的对比

1. `computed` 属性的结果会被缓存，除非依赖的响应式属性变化才会重新计算，主要当作属性来使用
2. `methods` 方法表示一个具体的操作，主要书写业务逻辑
3. `watch`一个对象，键是需要观察的表达式，只是对应的回调函数，主要用来监听某些特定数据的变化 ，从而进行某些具体的业务逻辑操作；可以看做是`computed`和`watch`的结合体



